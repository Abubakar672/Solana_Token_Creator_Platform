{"version":3,"file":"Client.helpers.mjs","sources":["../../../../src/plugins/candyMachineModule/Client.helpers.ts"],"sourcesContent":["import {\n  CandyMachineAddConfigConstraintsViolatedError,\n  CandyMachineCannotAddAmountError,\n  CandyMachineIsFullError,\n} from '@/errors';\nimport type { CandyMachine } from './CandyMachine';\nimport { ConfigLine, Creator } from '@metaplex-foundation/mpl-candy-machine';\nimport { assertConfigLineConstraints } from '../../programs/candyMachine/accounts/candyMachineInternals';\n\nexport function creatorsToJsonMetadataCreators(creators: Creator[]) {\n  return creators.map((creator: Creator) => ({\n    address: creator.address.toBase58(),\n    share: creator.share,\n    verified: creator.verified,\n  }));\n}\n\nexport function assertNotFull(candyMachine: CandyMachine, index: number) {\n  if (candyMachine.isFull) {\n    throw new CandyMachineIsFullError(index, candyMachine.maxSupply);\n  }\n}\n\nexport function assertCanAdd(\n  candyMachine: CandyMachine,\n  index: number,\n  amount: number\n) {\n  if (index + amount > candyMachine.maxSupply) {\n    throw new CandyMachineCannotAddAmountError(\n      index,\n      amount,\n      candyMachine.maxSupply\n    );\n  }\n}\n\nexport function assertAllConfigLineConstraints(configLines: ConfigLine[]) {\n  for (let i = 0; i < configLines.length; i++) {\n    try {\n      assertConfigLineConstraints(configLines[i]);\n    } catch (err: any) {\n      throw new CandyMachineAddConfigConstraintsViolatedError(\n        i,\n        configLines[i],\n        err\n      );\n    }\n  }\n}\n"],"names":["creatorsToJsonMetadataCreators","creators","map","creator","address","toBase58","share","verified","assertNotFull","candyMachine","index","isFull","CandyMachineIsFullError","maxSupply","assertCanAdd","amount","CandyMachineCannotAddAmountError","assertAllConfigLineConstraints","configLines","i","length","assertConfigLineConstraints","err","CandyMachineAddConfigConstraintsViolatedError"],"mappings":";;;AASO,SAASA,8BAAT,CAAwCC,QAAxC,EAA6D;AAClE,EAAA,OAAOA,QAAQ,CAACC,GAAT,CAAcC,OAAD,KAAuB;AACzCC,IAAAA,OAAO,EAAED,OAAO,CAACC,OAAR,CAAgBC,QAAhB,EADgC;IAEzCC,KAAK,EAAEH,OAAO,CAACG,KAF0B;IAGzCC,QAAQ,EAAEJ,OAAO,CAACI,QAAAA;AAHuB,GAAvB,CAAb,CAAP,CAAA;AAKD,CAAA;AAEM,SAASC,aAAT,CAAuBC,YAAvB,EAAmDC,KAAnD,EAAkE;EACvE,IAAID,YAAY,CAACE,MAAjB,EAAyB;IACvB,MAAM,IAAIC,uBAAJ,CAA4BF,KAA5B,EAAmCD,YAAY,CAACI,SAAhD,CAAN,CAAA;AACD,GAAA;AACF,CAAA;AAEM,SAASC,YAAT,CACLL,YADK,EAELC,KAFK,EAGLK,MAHK,EAIL;AACA,EAAA,IAAIL,KAAK,GAAGK,MAAR,GAAiBN,YAAY,CAACI,SAAlC,EAA6C;IAC3C,MAAM,IAAIG,gCAAJ,CACJN,KADI,EAEJK,MAFI,EAGJN,YAAY,CAACI,SAHT,CAAN,CAAA;AAKD,GAAA;AACF,CAAA;AAEM,SAASI,8BAAT,CAAwCC,WAAxC,EAAmE;AACxE,EAAA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,WAAW,CAACE,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;IAC3C,IAAI;AACFE,MAAAA,2BAA2B,CAACH,WAAW,CAACC,CAAD,CAAZ,CAA3B,CAAA;KADF,CAEE,OAAOG,GAAP,EAAiB;MACjB,MAAM,IAAIC,6CAAJ,CACJJ,CADI,EAEJD,WAAW,CAACC,CAAD,CAFP,EAGJG,GAHI,CAAN,CAAA;AAKD,KAAA;AACF,GAAA;AACF;;;;"}