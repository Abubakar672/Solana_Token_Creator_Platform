{"version":3,"file":"findCandyMachineByAddress.mjs","sources":["../../../../src/plugins/candyMachineModule/findCandyMachineByAddress.ts"],"sourcesContent":["import { PublicKey } from '@solana/web3.js';\nimport { Operation, OperationHandler, useOperation } from '@/types';\nimport { CandyMachine } from './CandyMachine';\nimport { Metaplex } from '@/Metaplex';\nimport { parseCandyMachineAccount } from '@/programs';\n\n// -----------------\n// Operation\n// -----------------\nconst Key = 'FindCandyMachineByAdddressOperation' as const;\n\nexport const findCandyMachineByAdddressOperation =\n  useOperation<FindCandyMachineByAdddressOperation>(Key);\n\nexport type FindCandyMachineByAdddressOperation = Operation<\n  typeof Key,\n  PublicKey,\n  CandyMachine | null\n>;\n\n// -----------------\n// Handler\n// -----------------\nexport const findCandyMachineByAdddressOperationHandler: OperationHandler<FindCandyMachineByAdddressOperation> =\n  {\n    handle: async (\n      operation: FindCandyMachineByAdddressOperation,\n      metaplex: Metaplex\n    ) => {\n      const candyMachineAddress = operation.input;\n      const unparsedAccount = await metaplex\n        .rpc()\n        .getAccount(candyMachineAddress);\n\n      const account = parseCandyMachineAccount(unparsedAccount);\n\n      return unparsedAccount.exists && account.exists\n        ? CandyMachine.fromAccount(account, unparsedAccount.data)\n        : null;\n    },\n  };\n"],"names":["Key","findCandyMachineByAdddressOperation","useOperation","findCandyMachineByAdddressOperationHandler","handle","operation","metaplex","candyMachineAddress","input","unparsedAccount","rpc","getAccount","account","parseCandyMachineAccount","exists","CandyMachine","fromAccount","data"],"mappings":";;;;AAOA;AACA;;AACA,MAAMA,GAAG,GAAG,qCAAZ,CAAA;MAEaC,mCAAmC,GAC9CC,YAAY,CAAsCF,GAAtC,EADP;AASP;AACA;AACA;AACO,MAAMG,0CAAiG,GAC5G;AACEC,EAAAA,MAAM,EAAE,OACNC,SADM,EAENC,QAFM,KAGH;AACH,IAAA,MAAMC,mBAAmB,GAAGF,SAAS,CAACG,KAAtC,CAAA;IACA,MAAMC,eAAe,GAAG,MAAMH,QAAQ,CACnCI,GAD2B,EAE3BC,CAAAA,UAF2B,CAEhBJ,mBAFgB,CAA9B,CAAA;AAIA,IAAA,MAAMK,OAAO,GAAGC,wBAAwB,CAACJ,eAAD,CAAxC,CAAA;AAEA,IAAA,OAAOA,eAAe,CAACK,MAAhB,IAA0BF,OAAO,CAACE,MAAlC,GACHC,YAAY,CAACC,WAAb,CAAyBJ,OAAzB,EAAkCH,eAAe,CAACQ,IAAlD,CADG,GAEH,IAFJ,CAAA;AAGD,GAAA;AAfH;;;;"}