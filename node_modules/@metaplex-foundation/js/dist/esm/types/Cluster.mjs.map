{"version":3,"file":"Cluster.mjs","sources":["../../../src/types/Cluster.ts"],"sourcesContent":["import { Connection } from '@solana/web3.js';\n\nexport type Cluster =\n  | 'mainnet-beta'\n  | 'devnet'\n  | 'testnet'\n  | 'localnet'\n  | 'custom';\n\nconst MAINNET_BETA_DOMAINS = [\n  'api.mainnet-beta.solana.com',\n  'ssc-dao.genesysgo.net',\n];\nconst DEVNET_DOMAINS = [\n  'api.devnet.solana.com',\n  'psytrbhymqlkfrhudd.dev.genesysgo.net',\n];\nconst TESTNET_DOMAINS = ['api.testnet.solana.com'];\nconst LOCALNET_DOMAINS = ['localhost', '127.0.0.1'];\n\nexport const resolveClusterFromConnection = (\n  connection: Connection\n): Cluster => {\n  return resolveClusterFromEndpoint(connection.rpcEndpoint);\n};\n\nexport const resolveClusterFromEndpoint = (endpoint: string): Cluster => {\n  const domain = new URL(endpoint).hostname;\n  if (MAINNET_BETA_DOMAINS.includes(domain)) return 'mainnet-beta';\n  if (DEVNET_DOMAINS.includes(domain)) return 'devnet';\n  if (TESTNET_DOMAINS.includes(domain)) return 'testnet';\n  if (LOCALNET_DOMAINS.includes(domain)) return 'localnet';\n  return 'custom';\n};\n"],"names":["MAINNET_BETA_DOMAINS","DEVNET_DOMAINS","TESTNET_DOMAINS","LOCALNET_DOMAINS","resolveClusterFromConnection","connection","resolveClusterFromEndpoint","rpcEndpoint","endpoint","domain","URL","hostname","includes"],"mappings":"AASA,MAAMA,oBAAoB,GAAG,CAC3B,6BAD2B,EAE3B,uBAF2B,CAA7B,CAAA;AAIA,MAAMC,cAAc,GAAG,CACrB,uBADqB,EAErB,sCAFqB,CAAvB,CAAA;AAIA,MAAMC,eAAe,GAAG,CAAC,wBAAD,CAAxB,CAAA;AACA,MAAMC,gBAAgB,GAAG,CAAC,WAAD,EAAc,WAAd,CAAzB,CAAA;AAEaC,MAAAA,4BAA4B,GACvCC,UAD0C,IAE9B;AACZ,EAAA,OAAOC,0BAA0B,CAACD,UAAU,CAACE,WAAZ,CAAjC,CAAA;AACD,EAJM;AAMMD,MAAAA,0BAA0B,GAAIE,QAAD,IAA+B;AACvE,EAAA,MAAMC,MAAM,GAAG,IAAIC,GAAJ,CAAQF,QAAR,EAAkBG,QAAjC,CAAA;EACA,IAAIX,oBAAoB,CAACY,QAArB,CAA8BH,MAA9B,CAAJ,EAA2C,OAAO,cAAP,CAAA;EAC3C,IAAIR,cAAc,CAACW,QAAf,CAAwBH,MAAxB,CAAJ,EAAqC,OAAO,QAAP,CAAA;EACrC,IAAIP,eAAe,CAACU,QAAhB,CAAyBH,MAAzB,CAAJ,EAAsC,OAAO,SAAP,CAAA;EACtC,IAAIN,gBAAgB,CAACS,QAAjB,CAA0BH,MAA1B,CAAJ,EAAuC,OAAO,UAAP,CAAA;AACvC,EAAA,OAAO,QAAP,CAAA;AACD;;;;"}