{"version":3,"file":"Metaplex.mjs","sources":["../../src/Metaplex.ts"],"sourcesContent":["import { Connection } from '@solana/web3.js';\nimport { MetaplexPlugin, Cluster, resolveClusterFromConnection } from '@/types';\nimport { corePlugins } from '@/plugins/corePlugins';\n\nexport type MetaplexOptions = {\n  cluster?: Cluster;\n};\n\nexport class Metaplex {\n  /** The connection object from Solana's SDK. */\n  public readonly connection: Connection;\n\n  /** The cluster in which the connection endpoint belongs to. */\n  public readonly cluster: Cluster;\n\n  constructor(connection: Connection, options: MetaplexOptions = {}) {\n    this.connection = connection;\n    this.cluster = options.cluster ?? resolveClusterFromConnection(connection);\n    this.use(corePlugins());\n  }\n\n  static make(connection: Connection, options: MetaplexOptions = {}) {\n    return new this(connection, options);\n  }\n\n  use(plugin: MetaplexPlugin) {\n    plugin.install(this);\n\n    return this;\n  }\n}\n"],"names":["Metaplex","constructor","connection","options","cluster","resolveClusterFromConnection","use","corePlugins","make","plugin","install"],"mappings":";;;AAQO,MAAMA,QAAN,CAAe;AACpB;;AAGA;AAGAC,EAAAA,WAAW,CAACC,UAAD,EAAyBC,OAAwB,GAAG,EAApD,EAAwD;AAAA,IAAA,IAAA,gBAAA,CAAA;;IACjE,IAAKD,CAAAA,UAAL,GAAkBA,UAAlB,CAAA;IACA,IAAKE,CAAAA,OAAL,uBAAeD,OAAO,CAACC,OAAvB,MAAkCC,IAAAA,IAAAA,gBAAAA,KAAAA,KAAAA,CAAAA,GAAAA,gBAAAA,GAAAA,4BAA4B,CAACH,UAAD,CAA9D,CAAA;IACA,IAAKI,CAAAA,GAAL,CAASC,WAAW,EAApB,CAAA,CAAA;AACD,GAAA;;AAEU,EAAA,OAAJC,IAAI,CAACN,UAAD,EAAyBC,OAAwB,GAAG,EAApD,EAAwD;AACjE,IAAA,OAAO,IAAI,IAAJ,CAASD,UAAT,EAAqBC,OAArB,CAAP,CAAA;AACD,GAAA;;EAEDG,GAAG,CAACG,MAAD,EAAyB;IAC1BA,MAAM,CAACC,OAAP,CAAe,IAAf,CAAA,CAAA;AAEA,IAAA,OAAO,IAAP,CAAA;AACD,GAAA;;AArBmB;;;;"}