{"version":3,"file":"EndSettings.cjs","sources":["../../../../../src/plugins/candyMachineModule/config/EndSettings.ts"],"sourcesContent":["import {\n  EndSettings,\n  EndSettingType,\n} from '@metaplex-foundation/mpl-candy-machine';\nimport BN from 'bn.js';\nimport { convertToMillisecondsSinceEpoch } from '@/types';\n\nexport const ENDSETTING_DATE = 'date';\nexport const ENDSETTING_AMOUNT = 'amount';\nexport const EndSettingModes = [ENDSETTING_DATE, ENDSETTING_AMOUNT] as const;\nexport type EndSettingMode = typeof EndSettingModes[number];\n/**\n * Configures {@link CandyMachineConfig.endSettings}\n *\n * End Settings provides a mechanism to stop the mint if a certain condition is\n * met without interaction.\n *\n * @property endSettingType - {@link EndSettingMode} (date or amount) which identifies\n * what {@link EndSettingsConfig.value} means\n * @property value - to test the end condition. This will be either a date\n * string (end DateTime) or an integer amount (items minted)\n * */\nexport type EndSettingsConfig =\n  | {\n      endSettingType: typeof ENDSETTING_DATE;\n      value: string;\n    }\n  | {\n      endSettingType: typeof ENDSETTING_AMOUNT;\n      value: number;\n    };\n\nexport function endSettingsFromConfig(\n  config?: EndSettingsConfig\n): EndSettings | undefined {\n  if (config == null) return undefined;\n  const endSettingType =\n    config.endSettingType === ENDSETTING_DATE\n      ? EndSettingType.Date\n      : EndSettingType.Amount;\n\n  const value =\n    config.endSettingType === ENDSETTING_DATE\n      ? convertToMillisecondsSinceEpoch(config.value)\n      : new BN(config.value);\n  return {\n    endSettingType,\n    number: value,\n  };\n}\n"],"names":["ENDSETTING_DATE","ENDSETTING_AMOUNT","EndSettingModes","endSettingsFromConfig","config","undefined","endSettingType","EndSettingType","Date","Amount","value","convertToMillisecondsSinceEpoch","BN","number"],"mappings":";;;;;;;;;;;;AAOO,MAAMA,eAAe,GAAG,OAAxB;AACA,MAAMC,iBAAiB,GAAG,SAA1B;MACMC,eAAe,GAAG,CAACF,eAAD,EAAkBC,iBAAlB,EAAxB;AAuBA,SAASE,qBAAT,CACLC,MADK,EAEoB;AACzB,EAAA,IAAIA,MAAM,IAAI,IAAd,EAAoB,OAAOC,SAAP,CAAA;AACpB,EAAA,MAAMC,cAAc,GAClBF,MAAM,CAACE,cAAP,KAA0BN,eAA1B,GACIO,8BAAc,CAACC,IADnB,GAEID,8BAAc,CAACE,MAHrB,CAAA;EAKA,MAAMC,KAAK,GACTN,MAAM,CAACE,cAAP,KAA0BN,eAA1B,GACIW,8CAA+B,CAACP,MAAM,CAACM,KAAR,CADnC,GAEI,IAAIE,sBAAJ,CAAOR,MAAM,CAACM,KAAd,CAHN,CAAA;EAIA,OAAO;IACLJ,cADK;AAELO,IAAAA,MAAM,EAAEH,KAAAA;GAFV,CAAA;AAID;;;;;;;"}