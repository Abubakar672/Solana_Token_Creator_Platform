{"version":3,"file":"plugin.cjs","sources":["../../../../src/plugins/corePrograms/plugin.ts"],"sourcesContent":["import { SystemProgram } from '@solana/web3.js';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  cusper as tokenMetadataCusper,\n  PROGRAM_ID as TOKEN_METADATA_PROGRAM_ID,\n} from '@metaplex-foundation/mpl-token-metadata';\nimport { Metaplex } from '@/Metaplex';\nimport { TokenMetadataGpaBuilder } from '@/programs';\nimport { ErrorWithLogs } from '@/types';\n\nexport const corePrograms = () => ({\n  install(metaplex: Metaplex) {\n    // System Program.\n    metaplex.programs().register({\n      name: 'SystemProgram',\n      address: SystemProgram.programId,\n    });\n\n    // Token Program.\n    metaplex.programs().register({\n      name: 'TokenProgram',\n      address: TOKEN_PROGRAM_ID,\n    });\n\n    // Token Metadata Program.\n    metaplex.programs().register({\n      name: 'TokenMetadataProgram',\n      address: TOKEN_METADATA_PROGRAM_ID,\n      errorResolver: (error: ErrorWithLogs) =>\n        tokenMetadataCusper.errorFromProgramLogs(error.logs, false),\n      gpaResolver: (metaplex: Metaplex) =>\n        new TokenMetadataGpaBuilder(metaplex, TOKEN_METADATA_PROGRAM_ID),\n    });\n  },\n});\n"],"names":["corePrograms","install","metaplex","programs","register","name","address","SystemProgram","programId","TOKEN_PROGRAM_ID","TOKEN_METADATA_PROGRAM_ID","errorResolver","error","tokenMetadataCusper","errorFromProgramLogs","logs","gpaResolver","TokenMetadataGpaBuilder"],"mappings":";;;;;;;;;AAUO,MAAMA,YAAY,GAAG,OAAO;EACjCC,OAAO,CAACC,QAAD,EAAqB;AAC1B;AACAA,IAAAA,QAAQ,CAACC,QAAT,EAAoBC,CAAAA,QAApB,CAA6B;AAC3BC,MAAAA,IAAI,EAAE,eADqB;MAE3BC,OAAO,EAAEC,qBAAa,CAACC,SAAAA;AAFI,KAA7B,EAF0B;;AAQ1BN,IAAAA,QAAQ,CAACC,QAAT,EAAoBC,CAAAA,QAApB,CAA6B;AAC3BC,MAAAA,IAAI,EAAE,cADqB;AAE3BC,MAAAA,OAAO,EAAEG,yBAAAA;AAFkB,KAA7B,EAR0B;;AAc1BP,IAAAA,QAAQ,CAACC,QAAT,EAAoBC,CAAAA,QAApB,CAA6B;AAC3BC,MAAAA,IAAI,EAAE,sBADqB;AAE3BC,MAAAA,OAAO,EAAEI,2BAFkB;AAG3BC,MAAAA,aAAa,EAAGC,KAAD,IACbC,uBAAmB,CAACC,oBAApB,CAAyCF,KAAK,CAACG,IAA/C,EAAqD,KAArD,CAJyB;MAK3BC,WAAW,EAAGd,QAAD,IACX,IAAIe,+CAAJ,CAA4Bf,QAA5B,EAAsCQ,2BAAtC,CAAA;KANJ,CAAA,CAAA;AAQD,GAAA;;AAvBgC,CAAP;;;;"}