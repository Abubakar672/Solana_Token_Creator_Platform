{"version":3,"file":"TokenGpaBuilder.cjs","sources":["../../../../../src/programs/token/gpaBuilders/TokenGpaBuilder.ts"],"sourcesContent":["import { PublicKey } from '@solana/web3.js';\nimport { ACCOUNT_SIZE, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport BN from 'bn.js';\nimport { Metaplex } from '@/Metaplex';\nimport { GpaBuilder } from '@/utils';\n\nexport class TokenGpaBuilder extends GpaBuilder {\n  constructor(metaplex: Metaplex, programId?: PublicKey) {\n    super(metaplex, programId ?? TOKEN_PROGRAM_ID);\n    this.whereSize(ACCOUNT_SIZE);\n  }\n\n  selectMint() {\n    return this.slice(0, 32);\n  }\n\n  whereMint(mint: PublicKey) {\n    return this.where(0, mint);\n  }\n\n  selectOwner() {\n    return this.slice(32, 32);\n  }\n\n  whereOwner(owner: PublicKey) {\n    return this.where(32, owner);\n  }\n\n  selectAmount() {\n    return this.slice(64, 8);\n  }\n\n  whereAmount(amount: number | BN) {\n    return this.where(64, amount);\n  }\n\n  whereDoesntHaveDelegate() {\n    return this.where(72, 0);\n  }\n\n  whereHasDelegate() {\n    return this.where(72, 1);\n  }\n\n  whereDelegate(delegate: PublicKey) {\n    return this.whereHasDelegate().where(76, delegate);\n  }\n\n  // TODO: Map the rest of the layout.\n  // https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/state/account.ts#L59\n}\n"],"names":["TokenGpaBuilder","GpaBuilder","constructor","metaplex","programId","TOKEN_PROGRAM_ID","whereSize","ACCOUNT_SIZE","selectMint","slice","whereMint","mint","where","selectOwner","whereOwner","owner","selectAmount","whereAmount","amount","whereDoesntHaveDelegate","whereHasDelegate","whereDelegate","delegate"],"mappings":";;;;;;;AAMO,MAAMA,eAAN,SAA8BC,qBAA9B,CAAyC;AAC9CC,EAAAA,WAAW,CAACC,QAAD,EAAqBC,SAArB,EAA4C;IACrD,KAAMD,CAAAA,QAAN,EAAgBC,SAAhB,KAAA,IAAA,IAAgBA,SAAhB,KAAgBA,KAAAA,CAAAA,GAAAA,SAAhB,GAA6BC,yBAA7B,CAAA,CAAA;IACA,IAAKC,CAAAA,SAAL,CAAeC,qBAAf,CAAA,CAAA;AACD,GAAA;;AAEDC,EAAAA,UAAU,GAAG;AACX,IAAA,OAAO,KAAKC,KAAL,CAAW,CAAX,EAAc,EAAd,CAAP,CAAA;AACD,GAAA;;EAEDC,SAAS,CAACC,IAAD,EAAkB;AACzB,IAAA,OAAO,KAAKC,KAAL,CAAW,CAAX,EAAcD,IAAd,CAAP,CAAA;AACD,GAAA;;AAEDE,EAAAA,WAAW,GAAG;AACZ,IAAA,OAAO,KAAKJ,KAAL,CAAW,EAAX,EAAe,EAAf,CAAP,CAAA;AACD,GAAA;;EAEDK,UAAU,CAACC,KAAD,EAAmB;AAC3B,IAAA,OAAO,KAAKH,KAAL,CAAW,EAAX,EAAeG,KAAf,CAAP,CAAA;AACD,GAAA;;AAEDC,EAAAA,YAAY,GAAG;AACb,IAAA,OAAO,KAAKP,KAAL,CAAW,EAAX,EAAe,CAAf,CAAP,CAAA;AACD,GAAA;;EAEDQ,WAAW,CAACC,MAAD,EAAsB;AAC/B,IAAA,OAAO,KAAKN,KAAL,CAAW,EAAX,EAAeM,MAAf,CAAP,CAAA;AACD,GAAA;;AAEDC,EAAAA,uBAAuB,GAAG;AACxB,IAAA,OAAO,KAAKP,KAAL,CAAW,EAAX,EAAe,CAAf,CAAP,CAAA;AACD,GAAA;;AAEDQ,EAAAA,gBAAgB,GAAG;AACjB,IAAA,OAAO,KAAKR,KAAL,CAAW,EAAX,EAAe,CAAf,CAAP,CAAA;AACD,GAAA;;EAEDS,aAAa,CAACC,QAAD,EAAsB;IACjC,OAAO,IAAA,CAAKF,gBAAL,EAAwBR,CAAAA,KAAxB,CAA8B,EAA9B,EAAkCU,QAAlC,CAAP,CAAA;AACD,GAxC6C;AA2C9C;;;AA3C8C;;;;"}